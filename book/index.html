<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Buy/Sell used books</title>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>

    <div id="app">
      <nav class="navbar navbar-expand-lg bg-white shadow-sm nav-fixed-height">
        <div class="container">
          <a class="navbar-brand d-flex align-items-center" href="#">
            <span class="logo-circle me-2">
              <span class="logo-lines"></span>
            </span>
            <span class="fw-bold">
              校園二手交易</span>
            </span>
          </a>

          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#mainMenu"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse justify-content-end" id="mainMenu">
            <ul class="navbar-nav align-items-center mb-2 mb-lg-0">
              <li class="nav-item ms-lg-3">
                <button class="btn btn-outline-dark btn-sm px-3">登入</button>
              </li>
              <li class="nav-item ms-2">
                <button class="btn btn-dark btn-sm px-3">註冊</button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <main class="area d-flex align-items-center">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-lg-6">
              <h1 class="title fw-bold mb-4">
                搜尋學校或書籍
              </h1>

              <form
                class="d-flex flex-column flex-md-row gap-2 form"
                @submit.prevent="doSearch"
              >
                <div class="input-group flex-grow-1">
                  <span class="input-group-text bg-white">
                    <i class="bi bi-geo-alt"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control"
                    placeholder="輸入..."
                    v-model="address"
                  />
                </div>

                <div class="dropdown">
                  <button
                    class="btn btn-light border w-100 mode-btn"
                    type="button"
                    data-bs-toggle="dropdown"
                  >
                    {{ modeText }}
                  </button>
                  <ul class="dropdown-menu">
                    <li>
                      <a
                        class="dropdown-item"
                        href="#"
                        @click.prevent="changeMode('now')"
                        >常用書籍</a
                      >
                    </li>
                    <li>
                      <a
                        class="dropdown-item"
                        href="#"
                        @click.prevent="changeMode('reserve')"
                        >活躍學校</a
                      >
                    </li>
                  </ul>
                </div>

                <button class="btn btn-dark search-btn" type="submit">
                  搜尋
                </button>
              </form>

              <p class="text-muted small mt-3" v-if="address">
                目前輸入的地址：{{ address }}（模式：{{ modeText }}）
              </p>
            </div>

            <div class="col-lg-6 mt-4 mt-lg-0">
              <div class="image-box rounded-4 shadow-lg"></div>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <script>
      const { createApp } = Vue;

      createApp({
        data() {
          return {
            address: "",
            mode: "now", 
          };
        },
        computed: {
          modeText() {
            return this.mode === "now" ? "常用書籍" : "活躍學校";
          },
        },
        methods: {
          changeMode(newMode) {
            this.mode = newMode;
          },
          doSearch() {
            if (!this.address) {
              alert("請先輸入學校或書籍！");
            } else {
              alert(
                "搜尋中：" + this.address + "\\n模式：" + this.modeText
              );
            }
          },
        },
      }).mount("#app");
    </script>
  </body>
</html>
